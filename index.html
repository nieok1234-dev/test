<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Dla Ciebie ‚ù§Ô∏è</title>
<style>
body {
    margin:0;
    overflow:hidden;
    background:pink;
    font-family:'Comic Sans MS', cursive;
}
.page {
    position:absolute;
    inset:0;
    display:none;
}
.page.active { display:block; }

.center-box {
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    text-align:center;
    color:white;
    transition:0.5s ease;
}
.heart-box {
    width:120px;
    height:120px;
    background:red;
    border-radius:50%;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    cursor:pointer;
    font-size:22px;
    transition:0.4s;
}

button {
    margin-top:10px;
    padding:10px 18px;
    border:none;
    border-radius:12px;
    font-size:16px;
    cursor:pointer;
}
.green {background:green;}
.red {background:red;color:white;}

.falling {position:absolute;top:-50px;animation:fall linear infinite;opacity:0.8;}
@keyframes fall {to {transform:translateY(110vh);}}

.flower {position:absolute;font-size:30px;animation:float 6s ease-in-out infinite;}
@keyframes float{50%{transform:translateY(-10px);}}

#finalMessage {font-size:50px; transition:0.3s;text-align:center;}
#fireworks {position:absolute;inset:0;display:none;justify-content:center;align-items:center;pointer-events:none;}
</style>
</head>
<body>

<div id="page1" class="page active"></div>
<div id="page2" class="page"></div>
<div id="page3" class="page"></div>
<div id="fireworks"></div>

<script>
// wsp√≥lne funkcje spadajƒÖcych element√≥w
function spawnFalling(parent,symbol,count){
    for(let i=0;i<count;i++){
        let el=document.createElement("div");
        el.className="falling";
        el.textContent=symbol;
        el.style.left=Math.random()*100+"vw";
        el.style.fontSize=16+Math.random()*25+"px";
        el.style.animationDuration=3+Math.random()*4+"s";
        parent.appendChild(el);
    }
}
function spawnFlowers(parent,arr){
    for(let i=0;i<25;i++){
        let f=document.createElement("div");
        f.className="flower";
        f.textContent=arr[Math.floor(Math.random()*arr.length)];
        f.style.left=Math.random()*95+"vw";
        f.style.top=Math.random()*95+"vh";
        f.style.fontSize=20+Math.random()*25+"px";
        parent.appendChild(f);
    }
}

// PAGE 1
const page1=document.getElementById("page1");
spawnFalling(page1,"‚ù§Ô∏è",60);
spawnFlowers(page1,["üå∏","üå∫","üå∑","üåº"]);
let box1=document.createElement("div");
box1.className="center-box";
box1.innerHTML=`
<h2>No hej to ja</h2>
<p>Przygotowa≈Çem co≈õ dla ciebie</p>
<button id="b1">to tu masz nacisnƒÖƒá myszko</button>`;
page1.appendChild(box1);
b1.onclick=()=>{showPage(1); setupPage2();};

// PAGE 2
const page2=document.getElementById("page2");
function setupPage2(){
    spawnFalling(page2,"‚ù§Ô∏è",40);
    spawnFalling(page2,"‚≠ê",40);
    spawnFlowers(page2,["üåª","üåπ","üåº","üå∫"]);
    let box2=document.createElement("div");
    box2.className="center-box";
    let heartBox=document.createElement("div");
    heartBox.className="heart-box";
    heartBox.innerHTML=`<span id="hbText">Jeszcze nie tu...</span><br><button id="moveBtn">teraz tutaj</button>`;
    box2.appendChild(heartBox);
    page2.appendChild(box2);
    showPage(1,false); // pewno≈õƒá, ≈ºe aktywne
    showPage(1,true); // przej≈õcie
    let step=0;
    const texts=["Lena, Lenka, Lencia ‚ù§Ô∏è serduszko puka","Lencia moja üíï","Lenka skarb m√≥j üòç"];
    moveBtn.onclick=()=>{
        step++;
        if(step==1){ hbText.textContent=texts[Math.floor(Math.random()*texts.length)]; heartBox.style.top="10%"; heartBox.style.left="80%"; }
        else if(step==2){ heartBox.style.top="80%"; heartBox.style.left="10%"; moveBtn.textContent="oho i co teraz?"; }
        else if(step==3){ heartBox.style.top="50%"; heartBox.style.left="50%"; moveBtn.textContent="no dobra ale ostatnia rzecz"; step=4;}
        else if(step==4){ showPage(2); setupPage3();}
    };
    showPage(1);
}

// PAGE 3
const page3=document.getElementById("page3");
function setupPage3(){
    spawnFalling(page3,"‚ù§Ô∏è",50);
    spawnFalling(page3,"‚≠ê",30);
    spawnFlowers(page3,["üå∏","üå∑","üåπ","üå∫","üåº"]);
    let box3=document.createElement("div");
    box3.className="center-box";
    box3.innerHTML=`
<h2 id="finalMessage">Czy zostaniesz mojƒÖ walentynkƒÖ?</h2>
<div style="margin-top:20px;">
<button class="green" id="yesBtn" style="font-size:14px;">TAKK!!!</button>
<button class="red" id="noBtn" style="font-size:14px;">nie</button>
</div>`;
    page3.appendChild(box3);
    showPage(2);

    let counter=0;
    let messages=["ale jak to","aha?","üòª","no wezzz"];
    noBtn.onclick=()=>{
        counter++;
        let size = 14 + counter*4;
        yesBtn.style.fontSize=size+"px";
        let msgIndex = counter-1;
        if(msgIndex<messages.length){
            let span=document.createElement("div");
            span.textContent=messages[msgIndex];
            span.style.position="absolute";
            span.style.top=Math.random()*60+20+"%";
            span.style.left=Math.random()*60+20+"%";
            span.style.color="white";
            page3.appendChild(span);
            setTimeout(()=>span.remove(),3000);
        }
        if(counter>=8){ triggerFinal(); }
    };

    yesBtn.onclick=()=>{
        let size = parseInt(window.getComputedStyle(yesBtn).fontSize) + 8;
        yesBtn.style.fontSize=size+"px";
    };
}

function triggerFinal(){
    page3.innerHTML="";
    let final=document.createElement("div");
    final.style.position="absolute";
    final.style.inset="0";
    final.style.display="flex";
    final.style.justifyContent="center";
    final.style.alignItems="center";
    final.style.fontSize="200px";
    final.style.color="white";
    final.style.textAlign="center";
    final.textContent="TAK!!!";
    page3.appendChild(final);

    // fajerwerki i serca
    let fw=document.getElementById("fireworks");
    fw.style.display="flex";
    fw.innerHTML='<img src="https://i.imgur.com/LJvL7aK.gif" style="width:200px;">';
}

function showPage(n){ pages.forEach(p=>p.classList.remove("active")); pages[n].classList.add("active"); }

</script>
</body>
</html>
